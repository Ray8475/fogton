# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Tasklist)

–ò—Ç–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–ª–∞–Ω –ø–æ [vision.md](../vision.md). –ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –±–æ—Ç–∞. KISS.

---

## –û—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É

| –ò—Ç–µ—Ä–∞—Ü–∏—è | –°—Ç–∞—Ç—É—Å | –î–∞—Ç–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|----------|--------|------|------------|
| 1. –ë–æ—Ç: /start –∏ –∫–Ω–æ–ø–∫–∞ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-01-29 | –ö–æ–¥ –≤ bot/app/main.py |
| 2. API: healthz –∏ –∑–∞–ø—É—Å–∫ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2025-01-29 | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π main.py, —Ç–æ–ª—å–∫–æ health |
| 3. –û–Ω–±–æ—Ä–¥–∏–Ω–≥: Mini App + auth + /me | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2026-02-12 | Mini App: auth, /me, –ø—Ä–æ—Ñ–∏–ª—å, –±–∞–ª–∞–Ω—Å—ã, —Ä—ã–Ω–∫–∏, –Ω–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è |
| 4. –†—ã–Ω–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2026-02-12 | GET /markets –∏–∑ –ë–î, GET /me/deposit-instruction, –±–ª–æ–∫ ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å¬ª –≤ Mini App |
| 5. –î–µ–ø–æ–∑–∏—Ç: TON webhook –∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ | üîÑ –í —Ä–∞–±–æ—Ç–µ | ‚Äî | –û–∂–∏–¥–∞–µ—Ç —Ç–µ—Å—Ç–∞ |
| 6. –í—ã–≤–æ–¥ (–∑–∞—è–≤–∫–∞ –∏ —Å—Ç–∞—Ç—É—Å) | üîÑ –í —Ä–∞–±–æ—Ç–µ | ‚Äî | –û–∂–∏–¥–∞–µ—Ç —Ç–µ—Å—Ç–∞ |
| 7. –ê–¥–º–∏–Ω: —Ä—ã–Ω–∫–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞ | ‚úÖ –ì–æ—Ç–æ–≤–æ | 2026-02-02 | PATCH /admin/gifts\|expiries\|markets/{id}, POST /admin/balances/adjust |
| 8. –ö—É—Ä—Å—ã –ø–æ–¥–∞—Ä–∫–æ–≤ –∏ —Ä—ã–Ω–∫–∏ —Ñ—å—é—á–µ—Ä—Å–æ–≤ | ‚è≥ –û–∂–∏–¥–∞–µ—Ç | ‚Äî | –°–ø–∏—Å–æ–∫ —Ä—ã–Ω–∫–æ–≤ –ø–æ–¥–∞—Ä–∫–æ–≤ —Å —Ç–µ–∫—É—â–∏–º –∫—É—Ä—Å–æ–º, —ç–∫—Ä–∞–Ω —Ä—ã–Ω–∫–∞ |
| 9. –ú–æ–¥–µ–ª—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏ –∑–∞—è–≤–∫–∏ (–ª–æ–Ω–≥/—à–æ—Ä—Ç) | ‚è≥ –û–∂–∏–¥–∞–µ—Ç | ‚Äî | –ú–æ–¥–µ–ª—å futures-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞, –∑–∞—è–≤–∫–∏ –ª–æ–Ω–≥/—à–æ—Ä—Ç, –º–∞—Ä–∂–∞ –∏ –ø–æ—Ä–æ–≥–∏ 65%/85% |
| 10. –¢–æ—Ä–≥–æ–≤—ã–π UI –≤ Mini App (–ª–æ–Ω–≥/—à–æ—Ä—Ç –∏ –º–∞—Ä–∂–∏–Ω-–∫–æ–ª–ª—ã) | ‚è≥ –û–∂–∏–¥–∞–µ—Ç | ‚Äî | –¢–æ—Ä–≥–æ–≤—ã–π UI: –≤—ã–±–æ—Ä —Ä—ã–Ω–∫–∞, –ø–æ–∫—É–ø–∫–∞ –ª–æ–Ω–≥/—à–æ—Ä—Ç, –º–æ–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã |

**–õ–µ–≥–µ–Ω–¥–∞ —Å—Ç–∞—Ç—É—Å–æ–≤:** ‚úÖ –ì–æ—Ç–æ–≤–æ | üîÑ –í —Ä–∞–±–æ—Ç–µ | ‚è≥ –û–∂–∏–¥–∞–µ—Ç

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 1. –ë–æ—Ç: /start –∏ –∫–Ω–æ–ø–∫–∞ ¬´–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª

**–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞; –ø–æ /start –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É, –æ—Ç–∫—Ä—ã–≤–∞—é—â—É—é Mini App. –ü—Ä–æ–≤–µ—Ä–∫–∞: –æ—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –≤ Telegram, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å /start, —É–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É (–ø–µ—Ä–µ—Ö–æ–¥ –ø–æ WEBAPP_URL).

- [x] –ü–æ–¥–Ω—è—Ç—å –±–æ—Ç (aiogram), –∫–æ–º–∞–Ω–¥–∞ /start
- [x] –ö–Ω–æ–ø–∫–∞ ¬´–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª —Å URL –∏–∑ WEBAPP_URL (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω)
- [x] –†–µ–∂–∏–º: polling –∏–ª–∏ webhook –∏–∑ env (BOT_MODE, WEBHOOK_BASE_URL)
- [ ] **–¢–µ—Å—Ç:** /start –≤ –±–æ—Ç–µ ‚Üí –∫–Ω–æ–ø–∫–∞ –≤–µ–¥—ë—Ç –Ω–∞ WEBAPP_URL

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 2. API: healthz –∏ –∑–∞–ø—É—Å–∫

**–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å API, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ë–î –≤ healthz. –ü—Ä–æ–≤–µ—Ä–∫–∞: curl GET /healthz ‚Üí 200 –∏ db ok.

- [x] –ó–∞–ø—É—Å–∫ API (FastAPI + uvicorn), –ø–æ—Ä—Ç 8000
- [x] GET /healthz: –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω–æ–π –ë–î ‚Äî 200, {"status":"ok","db":"ok"}; –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–π –ë–î ‚Äî 503
- [x] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite –ø–æ DATABASE_URL; —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ (–ø–æ vision ‚Äî –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö)
- [ ] **–¢–µ—Å—Ç:** curl http://localhost:8000/healthz

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 3. –û–Ω–±–æ—Ä–¥–∏–Ω–≥: Mini App + auth + /me

**–¶–µ–ª—å:** –û—Ç–∫—Ä—ã—Ç—å Mini App –∏–∑ –±–æ—Ç–∞, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è (initData ‚Üí JWT), –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É –≤ –±–æ—Ç–µ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Mini App ‚Üí –∑–∞–ø—Ä–æ—Å auth ‚Üí –∑–∞–ø—Ä–æ—Å /me ‚Üí –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–≤–æ–π user.

- [x] Mini App (webapp): –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∏—Ç–∞–µ—Ç initData –∏–∑ Telegram WebApp, —à–ª—ë—Ç POST /auth/telegram —Å init_data
- [x] API: POST /auth/telegram ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ initData, —Å–æ–∑–¥–∞–Ω–∏–µ/–ø–æ–∏—Å–∫ user, –≤—ã–¥–∞—á–∞ JWT
- [x] API: GET /me ‚Äî –ø–æ JWT –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ user (id, telegram_user_id)
- [x] Mini App: —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç JWT, –≤—ã–∑—ã–≤–∞–µ—Ç GET /me —Å Authorization: Bearer &lt;jwt&gt;, –≤—ã–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ user
- [ ] **–¢–µ—Å—Ç:** –±–æ—Ç ‚Üí ¬´–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª ‚Üí –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∏–¥–µ–Ω —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å (–∏–ª–∏ ¬´–í—ã –≤–æ—à–ª–∏¬ª)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 4. –†—ã–Ω–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞

**–¶–µ–ª—å:** –í Mini App –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Ä—ã–Ω–∫–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –¥–µ–ø–æ–∑–∏—Ç—É (–∞–¥—Ä–µ—Å + comment). –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∏–¥–µ–Ω —Å–ø–∏—Å–æ–∫ —Ä—ã–Ω–∫–æ–≤ –∏ –±–ª–æ–∫ ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å¬ª —Å –∞–¥—Ä–µ—Å–æ–º –∏ comment.

- [x] API: GET /markets ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ (gift, expiry); –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ (gifts, expiries, markets)
- [x] API: GET /me/deposit-instruction ‚Äî –ø–æ JWT –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π comment (payload) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] Mini App: —ç–∫—Ä–∞–Ω/–±–ª–æ–∫ —Ä—ã–Ω–∫–æ–≤ (—Å–ø–∏—Å–æ–∫); —ç–∫—Ä–∞–Ω/–±–ª–æ–∫ ¬´–ü–æ–ø–æ–ª–Ω–∏—Ç—å¬ª —Å –∞–¥—Ä–µ—Å–æ–º –∏ comment –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] **–¢–µ—Å—Ç:** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∏–¥–Ω—ã —Ä—ã–Ω–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–æ–∑–∏—Ç–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º comment

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 5. –î–µ–ø–æ–∑–∏—Ç: TON webhook –∏ –∑–∞—á–∏—Å–ª–µ–Ω–∏–µ

**–¶–µ–ª—å:** –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ webhook –æ—Ç TON API ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∞—Ç—Ä–∏–±—É—Ü–∏—è –ø–æ comment, –∑–∞–ø–∏—Å—å –≤ deposits/ledger_entries, —É–≤–µ–ª–∏—á–µ–Ω–∏–µ balances. –ü—Ä–æ–≤–µ—Ä–∫–∞: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π webhook (–∏–ª–∏ —Å–∏–º—É–ª—è—Ü–∏—é) —Å comment –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–≤–µ–ª–∏—á–∏–ª—Å—è.

- [x] API: POST /ton/webhook ‚Äî –ø—Ä–∏—ë–º payload (tx_hash, amount, comment, currency –∏ —Ç.–¥.), –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–∞
- [x] –ü–æ comment –Ω–∞–π—Ç–∏ user_id; –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ tx_hash (–Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –¥–µ–ø–æ–∑–∏—Ç)
- [x] –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –≤ deposits (status credited), –∑–∞–ø–∏—Å—å –≤ ledger_entries, –æ–±–Ω–æ–≤–∏—Ç—å balances.available
- [x] API: GET /me –∏–ª–∏ GET /me/balances ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –±–∞–ª–∞–Ω—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [x] Mini App: –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å—ã (TON, USDT)
- [ ] **–¢–µ—Å—Ç:** webhook —Å comment –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 6. –í—ã–≤–æ–¥ (–∑–∞—è–≤–∫–∞ –∏ —Å—Ç–∞—Ç—É—Å)

**–¶–µ–ª—å:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫—É –Ω–∞ –≤—ã–≤–æ–¥; API —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∑–∞—è–≤–∫—É –∏ (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏) –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç on-chain. –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–æ–∑–¥–∞—Ç—å –≤—ã–≤–æ–¥ ‚Üí –≤–∏–¥–µ–Ω —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏.

- [x] –ú–æ–¥–µ–ª—å/—Ç–∞–±–ª–∏—Ü–∞ withdrawals (–ø–æ vision –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏)
- [x] API: POST /me/withdraw ‚Äî amount, destination address; –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
- [x] API: GET /me/withdrawals –∏–ª–∏ –≤ GET /me ‚Äî —Å–ø–∏—Å–æ–∫/—Å—Ç–∞—Ç—É—Å—ã –≤—ã–≤–æ–¥–æ–≤
- [x] –û—Ç–ø—Ä–∞–≤–∫–∞ on-chain ‚Äî –∑–∞–≥–ª—É—à–∫–∞ (status pending, —Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–∞–∑—É –≤ ledger)
- [x] Mini App: —Ñ–æ—Ä–º–∞ –≤—ã–≤–æ–¥–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- [ ] **–¢–µ—Å—Ç:** —Å–æ–∑–¥–∞—Ç—å –≤—ã–≤–æ–¥ ‚Üí –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –≤–∏–¥–µ–Ω —Å—Ç–∞—Ç—É—Å (pending/completed/failed)

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 7. –ê–¥–º–∏–Ω: —Ä—ã–Ω–∫–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞

**–¶–µ–ª—å:** –ê–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å —Ä—ã–Ω–∫–∏ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–ª–∞–Ω—Å —Å –∑–∞–ø–∏—Å—å—é –≤ ledger. –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—ã–∑–æ–≤ –∞–¥–º–∏–Ω-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å ADMIN_TOKEN.

- [x] API: –ø—Ä–æ–≤–µ—Ä–∫–∞ ADMIN_TOKEN –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization –¥–ª—è –∞–¥–º–∏–Ω-—Ä–æ—É—Ç–æ–≤
- [x] PATCH (–∏–ª–∏ POST) –∞–¥–º–∏–Ω: –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å gift, expiry, market (is_active)
- [x] POST –∞–¥–º–∏–Ω: –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (user_id, currency, delta, reason); –∑–∞–ø–∏—Å—å –≤ ledger_entries, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ balances
- [ ] **–¢–µ—Å—Ç:** curl —Å ADMIN_TOKEN ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å is_active —Ä—ã–Ω–∫–∞; –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –±–∞–ª–∞–Ω—Å–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å –∏ ledger

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 8. –ö—É—Ä—Å—ã –ø–æ–¥–∞—Ä–∫–æ–≤ –∏ —Ä—ã–Ω–∫–∏ —Ñ—å—é—á–µ—Ä—Å–æ–≤

**–¶–µ–ª—å:** –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤ (NFT) —Å —Ç–µ–∫—É—â–∏–º –∫—É—Ä—Å–æ–º –∏ —ç–∫—Ä–∞–Ω —Ä—ã–Ω–∫–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–¥–∞—Ä–∫–∞. –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤ Mini App –≤–∏–¥–µ–Ω —Å–ø–∏—Å–æ–∫ —Ä—ã–Ω–∫–æ–≤ —Å –∫—É—Ä—Å–∞–º–∏ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Ä—ã–Ω–∫–∞.

- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫—É—Ä—Å–æ–≤ –ø–æ–¥–∞—Ä–∫–æ–≤:
  - [ ] –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è —Ü–µ–Ω—ã (spot/reference_price) –≤ gifts/markets –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Ü–µ–Ω
  - [ ] –æ–ø–∏—Å–∞—Ç—å –≤ vision.md –∏—Å—Ç–æ—á–Ω–∏–∫ —Ü–µ–Ω—ã (–∞–¥–º–∏–Ω —Ä—É–∫–∞–º–∏, –æ—Ä–∞–∫—É–ª, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏)
- [ ] API: —Ä–∞—Å—à–∏—Ä–∏—Ç—å `GET /markets`, —á—Ç–æ–±—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å:
  - [ ] —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å –ø–æ –∫–∞–∂–¥–æ–º—É —Ä—ã–Ω–∫—É (TON/USDT)
  - [ ] –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–∞—Ä–∫–∞ –∏ —Å—Ä–æ–∫ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏ (expiry)
- [ ] Mini App:
  - [ ] –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤:
    - [ ] –º–∏–Ω–∏–∞—Ç—é—Ä–∞ –ø–æ–¥–∞—Ä–∫–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ/–∏–∫–æ–Ω–∫–∞)
    - [ ] —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å
  - [ ] —ç–∫—Ä–∞–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä—ã–Ω–∫–∞ (–ø—Ä–∏ –∫–ª–∏–∫–µ): –∫—É—Ä—Å + –±–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∞—Ä–∫–µ –∏ —Å—Ä–æ–∫–µ
- [ ] **–¢–µ—Å—Ç:** –≤ Mini App —Å–ø–∏—Å–æ–∫ —Ä—ã–Ω–∫–æ–≤ —Å –∫—É—Ä—Å–∞–º–∏ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω —Ä—ã–Ω–∫–∞ –±–µ—Ä—É—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ API

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 9. –ú–æ–¥–µ–ª—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –∏ –∑–∞—è–≤–∫–∏ (–ª–æ–Ω–≥/—à–æ—Ä—Ç)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ backend –º–æ–¥–µ–ª—å —Ñ—å—é—á–µ—Ä—Å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏ –∏ API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–ø–æ–∫—É–ø–∫–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤. –ü—Ä–æ–≤–µ—Ä–∫–∞: —á–µ—Ä–µ–∑ API —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–∏–Ω—è—Ç—å –ª–æ–Ω–≥/—à–æ—Ä—Ç, —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–º–æ—Ä–æ–∑–∫—É —Å—Ä–µ–¥—Å—Ç–≤ –∏ PnL –ø–æ —Ñ–æ—Ä–º—É–ª–µ.

- [ ] –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö:
  - [ ] —Ç–∞–±–ª–∏—Ü–∞ `futures_contracts` (emitter_id, buyer_id, gift_id/market_id, side (long/short), –Ω–∞—á–∞–ª—å–Ω—ã–π –∫—É—Ä—Å, –¥–∞—Ç–∞ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ç—É—Å –∏ —Ç.–ø.)
  - [ ] —Å–≤—è–∑—å —Å ledger/balances (–∑–∞–º–æ—Ä–æ–∑–∫–∞ 100% —Ü–µ–Ω—ã —É —ç–º–∏—Ç–µ–Ω—Ç–∞ –∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è)
- [ ] –ú–µ—Ö–∞–Ω–∏–∫–∞ –º–∞—Ä–∂–∏:
  - [ ] –ø—Ä–∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è (—ç–º–∏—Ç–µ–Ω—Ç) –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—Ç—å 100% —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –ø–æ–¥–∞—Ä–∫–∞
  - [ ] –µ—Å–ª–∏ —Ü–µ–Ω–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å > 65% –ø—Ä–æ—Ç–∏–≤ —Å—Ç–æ—Ä–æ–Ω—ã ‚Äî –ø–æ–º–µ—á–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∫–∞–∫ ¬´—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø. –º–∞—Ä–∂–∞¬ª
  - [ ] –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 85% ‚Äî –¥–æ—Å—Ä–æ—á–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç –ø–æ —Ü–µ–Ω–µ +85%, –µ—Å–ª–∏ –Ω–µ –ø–æ–ø–æ–ª–Ω–µ–Ω –±–∞–ª–∞–Ω—Å
  - [ ] –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ ‚Äî –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞, —É—á–∏—Ç—ã–≤–∞—è, —á—Ç–æ —Ü–µ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 100%
- [ ] API:
  - [ ] `POST /futures/offers` ‚Äî –≤—ã—Å—Ç–∞–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç‚Äë–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ (—ç–º–∏—Ç–µ–Ω—Ç)
  - [ ] `GET /futures/offers` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  - [ ] `POST /futures/offers/{id}/take` ‚Äî –∫—É–ø–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–ª–æ–Ω–≥/—à–æ—Ä—Ç)
- [ ] –†–∞—Å—á—ë—Ç PnL –≤ –∫–æ–Ω—Ü–µ —Å—Ä–æ–∫–∞:
  - [ ] —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Ü–µ–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ –∏ —Ü–µ–Ω–æ–π –≤ –∫–æ–Ω—Ü–µ —Å—Ä–æ–∫–∞ –∏–¥—ë—Ç –Ω–∞ —Å—á—ë—Ç —ç–º–∏—Ç–µ–Ω—Ç–∞, –µ—Å–ª–∏ —Ü–µ–Ω–∞ –≤—ã—Ä–æ—Å–ª–∞, –∏ –Ω–∞ —Å—á—ë—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è, –µ—Å–ª–∏ —Ü–µ–Ω–∞ —É–ø–∞–ª–∞
  - [ ] –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å —ç—Ç–æ –≤ ledger_entries –∏ balances
- [ ] **–¢–µ—Å—Ç:** —á–µ—Ä–µ–∑ API —Å–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –ø—Ä–∏–Ω—è—Ç—å –ª–æ–Ω–≥/—à–æ—Ä—Ç, —Å–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–º–æ—Ä–æ–∑–∫—É —Å—Ä–µ–¥—Å—Ç–≤ –∏ PnL –ø–æ —Ñ–æ—Ä–º—É–ª–µ

---

## –ò—Ç–µ—Ä–∞—Ü–∏—è 10. –¢–æ—Ä–≥–æ–≤—ã–π UI –≤ Mini App (–ª–æ–Ω–≥/—à–æ—Ä—Ç –∏ –º–∞—Ä–∂–∏–Ω-–∫–æ–ª–ª—ã)

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ Mini App –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ—Ä–≥–æ–≤–ª–∏ —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ –Ω–∞ –ø–æ–¥–∞—Ä–∫–∏: –≤—ã–±–æ—Ä —Ä—ã–Ω–∫–∞, –ø–æ–∫—É–ø–∫–∞ –ª–æ–Ω–≥/—à–æ—Ä—Ç, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–æ–≤. –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤ Mini App –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫, –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–ª–æ–Ω–≥/—à–æ—Ä—Ç) –∏ —É–≤–∏–¥–µ—Ç—å –µ–≥–æ –≤ —Å–ø–∏—Å–∫–µ ¬´–ú–æ–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã¬ª.

- [ ] –≠–∫—Ä–∞–Ω —Ä—ã–Ω–∫–∞:
  - [ ] —Ç–µ–∫—É—â–∏–π –∫—É—Ä—Å
  - [ ] –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∫–∏ (—á—Ç–æ –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è 100% —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã)
  - [ ] –∫–Ω–æ–ø–∫–∏ ¬´–ö—É–ø–∏—Ç—å –ª–æ–Ω–≥¬ª –∏ ¬´–ö—É–ø–∏—Ç—å —à–æ—Ä—Ç¬ª
- [ ] –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏:
  - [ ] –≤—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∞—Ä–∫–æ–≤ / –Ω–æ–º–∏–Ω–∞–ª)
  - [ ] –ø–æ–∫–∞–∑, —Å–∫–æ–ª—å–∫–æ TON/USDT –±—É–¥–µ—Ç –∑–∞–º–æ—Ä–æ–∂–µ–Ω–æ
- [ ] –≠–∫—Ä–∞–Ω ¬´–ú–æ–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã¬ª:
  - [ ] —Å–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ –ø–æ–¥–∞—Ä–∫–∞–º (–ª–æ–Ω–≥/—à–æ—Ä—Ç, –≤—Ö–æ–¥–Ω–∞—è —Ü–µ–Ω–∞, —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π PnL)
  - [ ] –∏–Ω–¥–∏–∫–∞—Ü–∏—è –º–∞—Ä–∂–∏–Ω‚Äë–∑–æ–Ω:
    - [ ] –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ >65% –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–æ—Ç–∏–≤ –ø–æ–∑–∏—Ü–∏–∏
    - [ ] —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –¥–æ—Å—Ä–æ—á–Ω–æ–º –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ 85%, –µ—Å–ª–∏ –±–∞–ª–∞–Ω—Å –Ω–µ –ø–æ–ø–æ–ª–Ω–µ–Ω
- [ ] **–¢–µ—Å—Ç:** –≤ Mini App –º–æ–∂–Ω–æ:
  - [ ] –≤—ã–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ ‚Üí —É–≤–∏–¥–µ—Ç—å –∫—É—Ä—Å –∏ –∫–Ω–æ–ø–∫–∏ –ª–æ–Ω–≥/—à–æ—Ä—Ç
  - [ ] –æ—Ç–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é ‚Üí —É–≤–∏–¥–µ—Ç—å –µ—ë –≤ —Å–ø–∏—Å–∫–µ –ø–æ–∑–∏—Ü–∏–π —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

---

## –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

1. –ü—Ä–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ –ø—É–Ω–∫—Ç—É **–¢–µ—Å—Ç**.
2. –û–±–Ω–æ–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É ¬´–û—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–≥—Ä–µ—Å—Å—É¬ª: –ø–æ—Å—Ç–∞–≤–∏—Ç—å ‚úÖ –∏–ª–∏ üîÑ, —É–∫–∞–∑–∞—Ç—å –¥–∞—Ç—É –∏ –ø—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
